random = 17

function onChatted(msg, recipient, speaker) 
local source = string.lower(speaker.Name) 
msg = string.lower(msg) 
if string.sub(msg, 1, 5) == "save/" then 
local stats = speaker:findFirstChild("leaderstats")
if stats ~= nil then
c = stats:GetChildren()
values = { }
for i = 1, #c do
if c[i].className == "IntValue" then
table.insert(values, c[i].Value * random)
end
end
local code = table.concat(values, "/")
local m = Instance.new("Message")
m.Text = "Your code: "..code.."/"
m.Parent = speaker
wait(30)
m:remove()
end
end
if string.sub(msg, 1, 5) == "load/" then
local string = string.sub(msg, 6, #msg)
local stats = speaker:findFirstChild("leaderstats")
if stats ~= nil then
c = stats:GetChildren()
for i =1, #c do
if c[i].className == "IntValue" then
a = string.find(string, "/")
if a ~= nil then
print(a)
local value =  tonumber(string.sub(string, 1, a -1))
value = value / random
if value == math.ceil(value) and value == math.floor(value) then
print(value)
c[i].Value = value
string = string.sub(string, a +1, #string)
local m = Instance.new("Message")
m.Text = "Loaded saved progress"
m.Parent = speaker
wait(3)
m:remove()
else
local m = Instance.new("Message")
m.Text = "DON'T CHEAT!"
m.Parent = speaker
wait(3)
m:remove()
end
end
end
end
end
end 
end

function onPlayerEntered(newPlayer) 
newPlayer.Chatted:connect(function(msg, recipient) onChatted(msg, recipient, newPlayer) end) 
end 	

game.Players.ChildAdded:connect(onPlayerEntered)
